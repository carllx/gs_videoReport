# yaml-language-server: $schema=./schemas/config.schema.json
# gs_videoReport é…ç½®æ–‡ä»¶ç¤ºä¾‹
# ğŸ”’ é‡è¦å®‰å…¨æé†’ï¼šå¤åˆ¶æ­¤æ–‡ä»¶ä¸º config.yaml å¹¶å¡«å…¥æ‚¨çš„å®é™…é…ç½®ä¿¡æ¯
# âš ï¸  ç»ä¸è¦å°†åŒ…å«çœŸå®APIå¯†é’¥çš„config.yamlæ–‡ä»¶æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶ï¼

# ===== Google API é…ç½® =====
google_api:
  api_key: "YOUR_GEMINI_API_KEY_HERE"  # ä» https://makersuite.google.com/app/apikey è·å–
  model: "gemini-2.5-pro"              # ğŸš¨ QAæµ‹è¯•ä¸“ç”¨ï¼šå¿…é¡»ä½¿ç”¨ gemini-2.5-pro
  temperature: 0.7                      # æ¨¡å‹æ¸©åº¦ (0.0-2.0)
  max_tokens: 8192                      # æœ€å¤§è¾“å‡ºtokens

# ===== å¤šAPIå¯†é’¥è½®å¾ªé…ç½® =====
# ğŸ”„ å¤šå¯†é’¥è½®å¾ªæ¨¡å¼ï¼šå½“ä¸€ä¸ªå¯†é’¥é…é¢ç”¨å®Œæ—¶è‡ªåŠ¨åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ª
# ğŸ’¡ æç¤ºï¼šå¤šä¸ªå…è´¹å¯†é’¥å¯ä»¥å¤§å¹…æå‡æ—¥å¤„ç†èƒ½åŠ›ï¼ˆ100è¯·æ±‚ x Nä¸ªå¯†é’¥ï¼‰
multi_api_keys:
  enabled: false                       # æ˜¯å¦å¯ç”¨å¤šå¯†é’¥è½®å¾ªæ¨¡å¼
  # ğŸ”‘ APIå¯†é’¥åˆ—è¡¨ï¼ˆå¯ä»¥å…¬å¼€ï¼Œæ— éœ€ä¿å¯†ï¼‰
  api_keys:
    # - "AIzaSyA7MrCt8pb81qTQat-SoPTQ6b1_v3PXiPo"  # ç¤ºä¾‹å¯†é’¥1
    # - "AIzaSyB8NrCt9qc92rTQbu-TpQR7c2_w4QYjPq"  # ç¤ºä¾‹å¯†é’¥2  
    # - "AIzaSyC9OrDt0rd03sTQcv-UpRS8d3_x5RZkQr"  # ç¤ºä¾‹å¯†é’¥3
  # ğŸ“Š ä½¿ç”¨ç»Ÿè®¡é…ç½®
  usage_tracking:
    log_path: "logs/api_key_usage.json" # ä½¿ç”¨ç»Ÿè®¡JSONæ—¥å¿—è·¯å¾„
    enable_console_report: true         # æ˜¯å¦æ˜¾ç¤ºæ§åˆ¶å°ä½¿ç”¨æŠ¥å‘Š
  # ğŸ”„ è½®æ¢ç­–ç•¥é…ç½®
  rotation_strategy:
    auto_rotate_on_quota_exhausted: true  # é…é¢è€—å°½æ—¶è‡ªåŠ¨è½®æ¢
    max_consecutive_failures: 5          # è¿ç»­å¤±è´¥å¤šå°‘æ¬¡åæ ‡è®°ä¸ºä¸å¥åº·
    health_check_enabled: true           # å¯ç”¨å¯†é’¥å¥åº·æ£€æŸ¥

# ğŸš¨ QAæµ‹è¯•ä¸“ç”¨é…ç½® - ç»Ÿä¸€è®¾ç½®
qa_testing:
  input_directory: "test_videos"       # å¼ºåˆ¶è¾“å…¥ç›®å½•
  output_directory: "test_output"      # å¼ºåˆ¶è¾“å‡ºç›®å½•  
  template: "chinese_transcript"       # å¼ºåˆ¶ä½¿ç”¨æ¨¡æ¿
  model: "gemini-2.5-pro"             # å¼ºåˆ¶ä½¿ç”¨æ¨¡å‹

# å…¼å®¹æ€§è®¾ç½®ï¼ˆä¿æŒå‘åå…¼å®¹ï¼‰
default_output_path: "./output/"        # è¾“å‡ºæ–‡ä»¶ç›®å½•ï¼ˆå·²è¢«qa_testingè¦†ç›–ï¼‰
default_prompt_template: "comprehensive_lesson"  # é»˜è®¤æ¨¡æ¿ï¼ˆå·²è¢«qa_testingè¦†ç›–ï¼‰

# ===== è®¤è¯é…ç½® =====
auth_type: "api_key"                    # è®¤è¯ç±»å‹: "api_key" æˆ– "oauth"

# OAuth 2.0 é…ç½®ï¼ˆç”¨äºè®¿é—®ç§æœ‰YouTubeè§†é¢‘ï¼‰
# ğŸ” ä»…åœ¨éœ€è¦è®¿é—®ç§æœ‰è§†é¢‘æ—¶å¯ç”¨ï¼Œè¯·åœ¨ Google Cloud Console ä¸­åˆ›å»ºOAuth 2.0å®¢æˆ·ç«¯ID
# oauth:
#   client_id: "your-google-oauth-client-id.apps.googleusercontent.com"
#   client_secret: "GOCSPX-your-oauth-client-secret"
#   # ä»¥ä¸‹å­—æ®µç”±ç³»ç»Ÿè‡ªåŠ¨ç®¡ç†ï¼Œè¯·å‹¿æ‰‹åŠ¨ä¿®æ”¹
#   # access_token: "auto-managed"
#   # refresh_token: "auto-managed" 
#   # token_expiry: "auto-managed"

# ===== é«˜çº§é…ç½® =====
# è§†é¢‘å¤„ç†é…ç½®
video_processing:
  max_file_size_mb: 100                 # æœ€å¤§æ–‡ä»¶å¤§å°é™åˆ¶(MB)
  supported_formats: ["mp4", "mov", "avi", "mkv", "webm", "m4v"]
  upload_timeout_seconds: 300           # ä¸Šä¼ è¶…æ—¶æ—¶é—´(ç§’)

# APIè°ƒç”¨é…ç½®
api_config:
  max_retries: 3                        # æœ€å¤§é‡è¯•æ¬¡æ•°
  timeout_seconds: 300                  # APIè¶…æ—¶æ—¶é—´(ç§’)
  temperature: 0.7                      # APIè°ƒç”¨æ¸©åº¦
  max_output_tokens: 8192               # APIæœ€å¤§è¾“å‡ºtokens

# è¾“å‡ºé…ç½®
output_config:
  include_timestamps: true              # åŒ…å«æ—¶é—´æˆ³
  timestamp_format: "youtube"           # æ—¶é—´æˆ³æ ¼å¼: "youtube" æˆ– "standard"
  obsidian_compatibility: true          # Obsidianå…¼å®¹æ€§
  
# é”™è¯¯å¤„ç†é…ç½®  
error_handling:
  auto_retry_on_network_error: true     # ç½‘ç»œé”™è¯¯è‡ªåŠ¨é‡è¯•
  show_detailed_errors: false           # æ˜¾ç¤ºè¯¦ç»†é”™è¯¯ä¿¡æ¯
  log_api_calls: false                  # è®°å½•APIè°ƒç”¨æ—¥å¿—

# ===== æ‰¹é‡å¤„ç†é…ç½® (v2.1æ–°å¢ï¼šåŠ¨æ€å¹¶è¡Œ) =====
# batch_processing:
#   parallel_workers: 2                 # å•å¯†é’¥æ¨¡å¼é»˜è®¤å¹¶å‘æ•°ï¼ˆå¤šå¯†é’¥æ¨¡å¼å°†åŸºäºAPIå¯†é’¥æ•°é‡è‡ªåŠ¨è°ƒæ•´ï¼‰
#   enable_resume: true                 # å¯ç”¨æ–­ç‚¹ç»­ä¼ 
#   checkpoint_interval: 10             # æ£€æŸ¥ç‚¹ä¿å­˜é—´éš”
#   api_rate_limit: 60                  # APIæ¯åˆ†é’Ÿé™åˆ¶
#   adaptive_concurrency: false         # è‡ªé€‚åº”å¹¶å‘æ§åˆ¶
#
# ğŸ’¡ åŠ¨æ€å¹¶è¡Œè¯´æ˜ï¼š
#   - å•å¯†é’¥æ¨¡å¼ï¼šä½¿ç”¨é…ç½®çš„parallel_workerså€¼ï¼ˆé»˜è®¤2ï¼‰
#   - å¤šå¯†é’¥æ¨¡å¼ï¼šåŸºäºAPIå¯†é’¥æ•°é‡è‡ªåŠ¨è®¾ç½®ï¼ˆNä¸ªå¯†é’¥=Nä¸ªå¹¶è¡Œï¼Œæœ€å¤§8ä¸ªï¼‰
#   - å®‰å…¨ä¿éšœï¼šæœ€å¤š8ä¸ªå¹¶è¡Œworkerï¼Œé˜²æ­¢ç³»ç»Ÿè¿‡è½½å’Œç½‘ç»œæ‹¥å¡

# ===== å®‰å…¨è®¾ç½®æŒ‡å— =====
# ğŸ”’ APIå¯†é’¥å®‰å…¨ï¼š
# 1. ä» https://makersuite.google.com/app/apikey è·å–æ‚¨çš„Gemini APIå¯†é’¥
# 2. å°† YOUR_GEMINI_API_KEY_HERE æ›¿æ¢ä¸ºæ‚¨çš„çœŸå®APIå¯†é’¥
# 3. ç¡®ä¿config.yamlæ–‡ä»¶å·²è¢«.gitignoreå¿½ç•¥
# 4. ç»ä¸è¦åœ¨å…¬å…±åœºæ‰€ï¼ˆè®ºå›ã€èŠå¤©ã€é‚®ä»¶ï¼‰åˆ†äº«æ‚¨çš„APIå¯†é’¥
# 5. å®šæœŸè½®æ¢APIå¯†é’¥ä»¥æé«˜å®‰å…¨æ€§

# ğŸ” OAuth 2.0 è®¾ç½®ï¼ˆå¯é€‰ï¼‰ï¼š
# ä»…åœ¨éœ€è¦è®¿é—®ç§æœ‰YouTubeè§†é¢‘æ—¶é…ç½®
# 1. è®¿é—® https://console.cloud.google.com/
# 2. åˆ›å»ºæ–°é¡¹ç›®æˆ–é€‰æ‹©ç°æœ‰é¡¹ç›®
# 3. å¯ç”¨ YouTube Data API v3
# 4. åˆ›å»º OAuth 2.0 å®¢æˆ·ç«¯IDï¼ˆåº”ç”¨ç±»å‹ï¼šæ¡Œé¢åº”ç”¨ç¨‹åºï¼‰
# 5. ä¸‹è½½client_secret.jsonæ–‡ä»¶å¹¶æå–client_idå’Œclient_secret
# 6. å–æ¶ˆæ³¨é‡Šä¸Šæ–¹oauthé…ç½®å—å¹¶å¡«å…¥çœŸå®ä¿¡æ¯
# 7. é¦–æ¬¡è¿è¡Œæ—¶ç³»ç»Ÿä¼šè‡ªåŠ¨å¼•å¯¼æ‚¨å®Œæˆæˆæƒæµç¨‹

# ğŸ›¡ï¸ ç¯å¢ƒå˜é‡æ”¯æŒï¼š
# æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ç¯å¢ƒå˜é‡è®¾ç½®APIå¯†é’¥ï¼ˆæ›´å®‰å…¨ï¼‰ï¼š
# export GOOGLE_GEMINI_API_KEY="your-api-key-here"
# export GEMINI_API_KEY="your-api-key-here"    # å¤‡ç”¨ç¯å¢ƒå˜é‡å
