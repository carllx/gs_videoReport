---
globs: "**/gemini_service.py,**/config.py,**/main.py,**/cli.py,**/*gemini*,**/*genai*"
---

# è‡ªåŠ¨åº”ç”¨äºGeminiç›¸å…³æ–‡ä»¶ (Auto-apply for Gemini-related files)

å½“å¤„ç†è¿™äº›æ–‡ä»¶æ—¶ï¼Œè‡ªåŠ¨ä½¿ç”¨MCP Contact7è·å–Google Gen AI SDKæ–‡æ¡£ï¼š

## æ ¸å¿ƒé›†æˆæ–‡ä»¶ (Core Integration Files)

- **[gemini_service.py](mdc:src/gs_video_report/services/gemini_service.py)** - ä¸»è¦Gemini APIé›†æˆ
- **[config.py](mdc:src/gs_video_report/config.py)** - Google APIé…ç½®ç®¡ç†  
- **[main.py](mdc:src/gs_video_report/main.py)** - åº”ç”¨å…¥å£ç‚¹
- **[cli.py](mdc:src/gs_video_report/cli.py)** - å‘½ä»¤è¡Œæ¥å£

## MCP Contact7 ä½¿ç”¨æŒ‡å—

å¯¹äºä»»ä½•æ¶‰åŠä»¥ä¸‹å†…å®¹çš„ä»£ç ç¼–è¾‘æˆ–é—®é¢˜ï¼š

### ğŸ”§ SDKåˆå§‹åŒ–ä¸é…ç½®

```python
from google import genai
client = genai.Client(api_key='...')
```

â†’ **ä½¿ç”¨MCP**: `mcp_context7_get-library-docs` + topic="client configuration"

### ğŸ“¹ è§†é¢‘æ–‡ä»¶å¤„ç†

```python
file = client.files.upload(file='video.mp4')
client.models.generate_content(contents=[file, prompt])
```

â†’ **ä½¿ç”¨MCP**: `mcp_context7_get-library-docs` + topic="files and uploads"

### ğŸ¤– å†…å®¹ç”Ÿæˆ

```python
response = client.models.generate_content(
    model='gemini-2.5-flash',
    contents='...'
)
```

â†’ **ä½¿ç”¨MCP**: `mcp_context7_get-library-docs` + topic="generate content"

### ğŸ”„ æµå¼å“åº”

```python
for chunk in client.models.generate_content_stream():
    print(chunk.text)
```

â†’ **ä½¿ç”¨MCP**: `mcp_context7_get-library-docs` + topic="streaming"

### âš ï¸ é”™è¯¯å¤„ç†

```python
try:
    response = client.models.generate_content(...)
except Exception as e:
    # å¤„ç†é”™è¯¯
```

â†’ **ä½¿ç”¨MCP**: `mcp_context7_get-library-docs` + topic="error handling"

## ä¼˜å…ˆçº§è§„åˆ™ (Priority Rules)

1. **é¦–å…ˆ** - ä½¿ç”¨MCP Contact7è·å–æœ€æ–°SDKæ–‡æ¡£
2. **å…¶æ¬¡** - å‚è€ƒé¡¹ç›®ç°æœ‰ä»£ç å®ç°
3. **æœ€å** - ä¾èµ–é€šç”¨çŸ¥è¯†ä½œä¸ºè¡¥å……

## è‡ªåŠ¨è§¦å‘å…³é”®è¯ (Auto-trigger Keywords)

- `genai.Client`
- `client.models.generate_content`
- `client.files.upload`
- `google-genai`
- `gemini-2.5-flash`
- `GOOGLE_API_KEY`
- `GEMINI_API_KEY`
