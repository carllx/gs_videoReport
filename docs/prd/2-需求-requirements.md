# 2. 需求 (Requirements)

## 功能需求 (Functional Requirements)

1. **FR1**: 系统必须能通过命令行参数，接收一个有效的 YouTube 视频 URL 作为输入。
    
2. **FR2**: 系统必须能识别无效或非 YouTube 的 URL 输入，并向用户返回清晰、友好的错误提示。
    
3. **FR3**: 系统必须调用 Google Gemini API 对指定的 YouTube 视频内容进行分析。
    
4. **FR4**: 系统必须基于分析结果，生成一份 Markdown (`.md`) 格式的综合性教案文件。
    
5. **FR5**: 生成的教案文件中必须包含精确的时间戳，该时间戳能以 URL 形式链接回 YouTube 视频的特定时刻。
    
6. **FR6**: 系统必须将生成的 `.md` 文件保存到用户本地文件系统的一个可配置路径下。
    

## 非功能需求 (Non-Functional Requirements)

1. **NFR1**: 应用程序必须是一个能在 macOS 终端环境中稳定运行的命令行工具 (CLI)。
    
2. **NFR2**: 对于一个10分钟时长的标准视频，在正常网络条件下，端到端的处理时间应少于5分钟。
    
3. **NFR3**: 用户的 Google API 密钥必须通过外部配置文件进行管理，不得硬编码在程序中。
    
4. **NFR4**: 工具在执行时，必须在终端提供清晰的、分阶段的实时进度反馈（例如，“正在分析视频...”，“正在生成教案...”）。
    
5. **NFR5**: 输出的 Markdown 文件必须包含与 Obsidian Dataview 插件兼容的元数据 (YAML Frontmatter)，以支持后续的自动化处理。
    
6. **NFR6**: **长视频处理机制**: 为防止因视频过长导致超出 API 的 Token 限制，系统必须能够在这种情况下，自动切换到使用中等或低等视频质量进行分析，以降低 Token 消耗。(_注：具体实现需调研并依赖 Google Gemini API 的相关文档_)。
    
