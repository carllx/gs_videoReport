# 头脑风暴会议成果：gs_videoReport AI 视频教案助教

会议日期: 2025年8月17日

引导者: Mary (业务分析师)

参与者: carllx 

## 1. 执行摘要 (Executive Summary)

本次会议的目标是构思一个名为 **`gs_videoReport`** 的 AI 视频分析工具。该工具定位为一个在 macOS 终端中运行的“AI 助教”，旨在帮助教师（特别是艺术领域）高效地将视频内容（来源于 YouTube 链接或本地文件）转化为高质量的教学材料。

应用的核心是通过 Google Gemini API 实现自动化、批量处理视频，并根据高度灵活的模板系统，生成两种主要格式的文档：**综合性教案 (`*.md`)** 和 **Marpit 幻灯片 (`*.marpit.md`)**。

关键特性包括智能的断点续传、自动错误重试、灵活的文件目录管理，以及为 Obsidian 用户深度定制的、兼容 Dataview 插件的元数据系统。整个应用将通过一个中央配置文件进行管理，同时支持命令行参数覆盖，以实现最大的灵活性和易用性。

## 2. 思维导图：核心功能分解

以下是我们通过“流程化探索”方法梳理出的项目五大核心模块：

### 模块一：输入 (Input)

- **交互界面**: macOS Terminal 命令行。
    
- **输入源**:
    
    - YouTube 视频链接。
        
    - 本地视频文件的完整路径。
        
    - 包含多个链接或路径的文本文件（每行一个）。
        
- **输入模式**:
    
    - 支持单个视频处理。
        
    - 支持一次性传入多个视频进行批量处理。
        
- **未来扩展**: 考虑支持哔哩哔哩 (Bilibili) 等其他视频平台。
    

### 模块二：核心处理 (Core Processing)

- **报告/幻灯片模板化**:
    
    - 用户可以通过自定义模板来增加新的报告类型（如综合教案、Marpit幻灯片、核心摘要等）。
        
- **语言风格模板化**:
    
    - 用户可以自定义和增加新的语言风格模板，以适应不同教学场景（如“创意抽象风”）。
        
- **时间戳处理**:
    
    - **YouTube**: 生成可直接点击并跳转到特定时间的 URL (`&t=...s`)。
        
    - **本地视频**: 集成 FFMPEG 进行时间戳的精确提取和转换。
        
- **幻灯片生成逻辑 (Marpit Template)**:
    
    - **内容**: 侧重于将文字稿提炼为要点，并自动提取最相关的关键帧图像作为页面补充。
        
    - **备注**: 完整的逐字稿将被放入 Marpit 的“备注区” (`<!-- note -->`)，供演示时参考。
        

### 模块三：输出 (Output)

- **文件格式**: Markdown (`.md`) 或 Marpit Markdown (`.marpit.md`)。
    
- **目录结构**:
    
    - 通过配置文件中的路径模板 (Path Template) 进行灵活定义。
        
    - 系统提供一个默认模板，用户可随时修改。
        
- **元数据 (Metadata)**:
    
    - **兼容性**: 专为 Obsidian 设计，与 Dataview 插件完全兼容。
        
    - **设计**: 需要设计一套包含关键属性的元数据模式，以支持查询和管理。
        
- **幻灯片语法**:
    
    - 当选择 Marpit 模板时，输出内容将严格遵循 Marpit 语法，可直接用于渲染和演示。
        

### 模块四：工作流程与控制 (Workflow & Control)

- **处理模式**: 全自动“黑盒”模式，启动后无需人工干预。
    
- **中断与恢复**:
    
    - **智能断点续传**: 任务中断后重启，将自动从上一个未完成的视频继续。
        
    - **自动重试**: 遇到临时的网络或 API 错误时，会自动重试若干次。
        
    - **安全停止**: 遇到无法恢复的错误时，将安全停止并等待用户干预。
        
- **进度监控**:
    
    - 在 Terminal 中实时打印详细的日志，包括总体进度 `[x/y]`、当前处理的视频标题和当前执行的具体环节（如“正在生成逐字稿...”）。
        

### 模块五：配置与灵活性 (Configuration & Flexibility)

- **中央配置文件 (`config.yaml` / `.json`)**:
    
    - Google API 密钥。
        
    - 默认的 Gemini 模型 ID (e.g., `gemini-1.5-pro`)。
        
    - 默认的报告类型和语言风格模板。
        
    - 错误重试次数。
        
    - FFMPEG 的可执行文件路径。
        
- **命令行接口 (CLI)**:
    
    - **应用名称**: `gs_videoReport`
        
    - **核心用法**: `gs_videoReport <输入源>`
        
    - **参数覆盖**: 支持通过可选参数（如 `--style "创意风"`）来临时覆盖配置文件中的默认设置。
        

## 3. 想法分类 (Idea Categorization)

- **核心功能**:
    
    - 视频转综合教案 (`.md`)。
        
    - 视频转 Marpit 幻灯片 (`.marpit.md`)。
        
    - 支持 YouTube 和本地视频。
        
- **工作流程与可靠性**:
    
    - 批量处理。
        
    - 智能断点续传。
        
    - 自动错误重试。
        
    - 实时进度监控。
        
- **高度可定制性**:
    
    - 通过配置文件管理核心设置。
        
    - 可自定义的报告/幻灯片模板。
        
    - 可自定义的语言风格。
        
    - 可自定义的输出目录结构。
        
    - 兼容 Obsidian Dataview 的元数据。
        

## 4. 行动计划 (Action Planning)

- **最高优先级**:
    
    1. **定义 MVP**: 明确第一个版本需要包含的核心功能。建议首先实现针对单个 YouTube 链接生成“综合教案”的完整流程。
        
    2. **设计配置文件结构**: 规划 `config.yaml` 的具体字段和格式。
        
    3. **设计报告模板**: 创建第一个版本的“综合教案”和“Marpit 幻灯片”模板。
        
- **下一步建议**:
    
    - **创建《项目简报》**: 我（Mary）将使用本次会议的成果，为您起草一份更正式的**《项目简报》(Project Brief)**。这份文档将包含明确的问题陈述、目标用户、成功指标和 MVP 范围，并作为提交给架构师进行技术设计的最终依据。
        

## 5. 反思与跟进 (Reflection & Follow-up)

本次会议非常成功，我们通过系统化的方法，将一个初步的构想扩展成了一个功能丰富、目标明确的项目蓝图。

- **后续问题**:
    
    - 我们需要为 Obsidian Dataview 设计一套具体的元数据字段。
        
    - 我们需要确定 `gs_videoReport` 的具体命令行参数设计。
        

这些问题可以在我们创建《项目简报》时进一步探讨。